<md-dialog id="profile-dialog" aria-label="profile">
    <md-toolbar>
        <div class="md-toolbar-tools">
            <h2 ng-bind="'PROFILE_TITLE' | translate"></h2>
            <span flex></span>
            <md-button class="md-icon-button" ng-click="closeDialog()">
                <md-icon md-svg-src="{{ closeIconPath }}" aria-label="Close dialog"></md-icon>
            </md-button>
        </div>
    </md-toolbar>

    <md-dialog-content>
        <div id="profile-form" ng-if="true">
            <form name="profileForm">
                <div class="input-container">
                    <md-input-container class="md-block">
                        <label ng-bind="'USERNAME_LABEL' | translate"></label>
                        <input ng-blur="checkSame('username')" maxlength="30" ng-maxlength="30" md-maxlength="30" required name="username" ng-model="user.username">
                        <div ng-messages="registerForm.username.$error">
                            <div ng-message="required" ng-bind="'REQUIRED_ERROR' | translate"></div>
                            <div ng-message="maxlength" ng-bind="'MAXLENGTH_USERNAME_ERROR' | translate"></div>
                            <div ng-message="same" ng-bind="'SAME_USERNAME_ERROR' | translate"></div>
                        </div>
                    </md-input-container>
                    <md-input-container class="md-block">
                        <label  ng-bind="'LOGIN_LABEL' | translate"></label>
                        <input ng-blur="checkSame('login')" maxlength="30" ng-maxlength="30" md-maxlength="30" required name="login" ng-model="user.login">
                        <div ng-messages="registerForm.login.$error">
                            <div ng-message="required" ng-bind="'REQUIRED_ERROR' | translate"></div>
                            <div ng-message="maxlength" ng-bind="'MAXLENGTH_LOGIN_ERROR' | translate"></div>
                            <div ng-message="same" ng-bind="'SAME_LOGIN_ERROR' | translate"></div>
                        </div>
                    </md-input-container>
                </div>
                <div class="input-container">
                    <md-input-container class="md-block">
                        <label ng-bind="'PASSWORD_LABEL' | translate"></label>
                        <input ng-minlength="6" ng-maxlength="30" md-maxlength="30" maxlength="30" type="password" required name="password" ng-model="user.password">
                        <div ng-messages="registerForm.password.$error">
                            <div ng-message="required" ng-bind="'REQUIRED_ERROR' | translate"></div>
                            <div ng-message="minlength" ng-bind="'MINLENGTH_PASSWORD_ERROR' | translate"></div>
                            <div ng-message="maxlength" ng-bind="'MAXLENGTH_PASSWORD_ERROR' | translate"></div>
                        </div>
                    </md-input-container>

                    <md-input-container class="md-block">
                        <label ng-bind="'CONFIRM_PASSWORD_LABEL' | translate"></label>
                        <input ng-pattern="{{user.password}}" type="password" required name="confirmPassword" ng-model="user.confirmPassword">
                        <div ng-messages="registerForm.confirmPassword.$error">
                            <div ng-message="required" ng-bind="'REQUIRED_ERROR' | translate"></div>
                            <div ng-message="pattern" ng-bind="'PASSWORDS_EQUALS_ERROR' | translate"></div>
                        </div>
                    </md-input-container>
                </div>
                <div class="input-container">
                    <md-input-container class="md-block">
                        <label ng-bind="'EMAIL_LABEL' | translate"></label>
                        <input ng-blur="checkSame('email')" type="email" name="email" ng-model="user.email">
                        <div ng-messages="registerForm.email.$error">
                            <div ng-message="email" ng-bind="'EMAIL_ERROR' | translate"></div>
                            <div ng-message="same" ng-bind="'SAME_EMAIL_ERROR' | translate"></div>
                        </div>
                    </md-input-container>
                    <md-input-container class="md-block">
                        <label ng-bind="'SERVER_LABEL' | translate"></label>
                        <md-select required name="server" ng-model="user.server">
                            <md-option ng-repeat="server in servers | orderBy:'name | translate' track by $index" value="{{server}}" ng-bind="server.name | translate"></md-option>
                        </md-select>
                        <div ng-messages="registerForm.server.$error">
                            <div ng-message="required" ng-bind="'REQUIRED_ERROR' | translate"></div>
                        </div>
                    </md-input-container>
                </div>
                <div class="submit-container">
                    <md-button class="btn btn-primary" ng-disabled="!isReady()" ng-click="register()" type="submit" ng-bind="'REGISTER_BTN' | translate" aria-label="submit"></md-button>
                </div>
            </form>
        </div>
    </md-dialog-content>

    <md-dialog-actions>
        <a class="btn btn-dialog-close" ng-click="closeDialog()" ng-bind="'CLOSE_BTN' | translate"></a>
    </md-dialog-actions>
</md-dialog>